{"slots":{"0":{"name":"slot1","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"local batchsize = 500 --export How many to run\nlocal inc_batch = 500 --export Stagger Machine Batch Size.\nlocal always_restart = True --export Use to ignore current machine status.\n\nsystem.print(\"Batch Size: \"..batchsize..\" Stagger Batch \"..inc_batch)\n\n-- Copy the First Machine's Schematic\nlocal schematic = slot1.getCurrentSchematic()\nif schematic == nil or schematic == 0 then\n    system.print(\"Set First Machine Schematic!\")\n    return\nend\n\n-- Apply the First Machine's Schematic and start the Batches.\nlocal machines = {slot1, slot2, slot3, slot4, slot5, slot6, slot7, slot8, slot9, slot10}\nfor i,machine in ipairs(machines) do\n     if machine == nil then\n        system.print(\"Missing Slot\")\n     end     \n     if machine.getEfficiency() < 0.01 then\n        --system.print(\"Stopping Slot\"..i)\n        machine.softStop()\n     end\n     local status = machine.getStatus()\n     if status == \"STOPPED\" or always_restart then\n          --system.print(\"Starting Slot\"..i)\n\t\tmachine.setCurrentSchematic(schematic)\n\t\tif batchsize > 0 then\n          \tmachine.startAndMaintain(batchsize + (i-1)*inc_batch)\n          else\n          \tmachine.start()\n          end\n\n        end\n     system.print(\"Slot\"..i..\" --- Status: \"..machine.getStatus()\n        ..\" --- Eff: \"..machine.getEfficiency())\nend\n\nunit.exit()","filter":{"args":[],"signature":"start()","slotKey":"-2"},"key":"0"}],"methods":[],"events":[]}
